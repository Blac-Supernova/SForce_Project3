<template>
    <lightning-card title="Available Properties">
        <template lwc:if={properties.data}>
            <div class="slds-grid slds-wrap">
                <template for:each={properties.data} for:item="property">
                    <template lwc:if={property.Is_Available__c}>
                    <div key={property.Id} class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3 slds-p-around_small">
                        <div class="property-card">
                            <img src={property.Image_URL__c} alt={property.Name} class="property-image"/>
                            <h3>{property.Location__c}</h3>
                            <p>Price: {property.Price__c}</p>
                            <p>Bed: {property.Number_of_Bedrooms__c} Bath: {property.Number_of_Bathrooms__c}</p>
                            <lightning-button variant="brand" data-id={property.Id} onclick={navToResidencePage} label="See More"></lightning-button>
                        </div>
                    </div>
                </template>
                </template>
            </div>
        </template>
    </lightning-card>
</template>